<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AlphaAnalytics - Market Videos</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

:root {
  --primary-white: #fff;
  --bg-gradient: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
  --bg-dark: #0f0f23;
  --bg-card: rgba(30, 30, 46, 0.8);
  --bg-card-hover: rgba(40, 40, 62, 0.9);
  --text-primary: #ffffff;
  --text-secondary: #a0a0c0;
  --text-muted: #707090;
  --border-color: rgba(255, 255, 255, 0.1);
  --hover-color: rgba(0, 230, 255, 0.15);
  --active-color: #00e6ff;
  --up-color: #00ff9d;
  --down-color: #ff4d7c;
  --accent-blue: #00e6ff;
  --accent-teal: #00ff9d;
  --accent-purple: #8a2be2;
  --accent-pink: #ff4d7c;
  --shadow-glow: 0 0 20px rgba(0, 230, 255, 0.3);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.2);
}

body.light {
  --bg-gradient: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  --bg-dark: #ffffff;
  --bg-card: rgba(255, 255, 255, 0.9);
  --bg-card-hover: rgba(255, 255, 255, 1);
  --text-primary: #1e293b;
  --text-secondary: #475569;
  --text-muted: #64748b;
  --border-color: rgba(0, 0, 0, 0.1);
  --hover-color: rgba(0, 230, 255, 0.1);
  --active-color: #0077cc;
  --shadow-glow: 0 0 20px rgba(0, 119, 204, 0.2);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.1);
}

body {
  background: var(--bg-gradient);
  color: var(--text-primary);
  transition: all 0.4s ease;
  min-height: 100vh;
  line-height: 1.6;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 1400px;
  margin: 0 auto;
}

/* Enhanced Navbar */
.navbar {
  background: rgba(15, 15, 35, 0.9);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 1000;
  padding: 0;
}

.nav-wrap {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 20px;
}

.nav-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 0;
}

.logo {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: flex;
  align-items: center;
  gap: 8px;
}

.logo i {
  font-size: 24px;
}

.nav-items {
  display: flex;
  gap: 8px;
  list-style: none;
}

.nav-item {
  padding: 10px 16px;
  border-radius: 12px;
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
}

.nav-item:hover {
  background: var(--hover-color);
  color: var(--active-color);
  transform: translateY(-2px);
}

.nav-item.active {
  background: var(--active-color);
  color: var(--bg-dark);
  box-shadow: var(--shadow-glow);
}

/* Mobile Menu Animation */
.menu-toggle {
  display: none;
  flex-direction: column;
  gap: 4px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
}

.menu-toggle span {
  width: 24px;
  height: 2px;
  background: var(--text-primary);
  border-radius: 2px;
  transition: all 0.3s ease;
}

.menu-toggle span.active:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.menu-toggle span.active:nth-child(2) {
  opacity: 0;
}

.menu-toggle span.active:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

/* Ensure mobile menu displays properly */
@media (max-width: 768px) {
  .nav-items {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--bg-dark);
    border-top: 1px solid var(--border-color);
    padding: 16px;
    flex-direction: column;
    gap: 8px;
    z-index: 1000;
  }
  
  .nav-items.show {
    display: flex;
  }
  
  .nav-item {
    padding: 12px 16px;
    border-radius: 8px;
    justify-content: flex-start;
  }
  
  .menu-toggle {
    display: flex;
  }
}

/* Main Content */
.main-content {
  flex: 1;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 32px;
}

/* Header Section */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  flex-wrap: wrap;
  gap: 20px;
}

.header h1 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 32px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.header-controls {
  display: flex;
  gap: 16px;
  align-items: center;
}

/* Search Bar */
.search-container {
  position: relative;
  width: 400px;
  max-width: 100%;
}

.search-bar {
  width: 100%;
  padding: 14px 20px 14px 48px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  color: var(--text-primary);
  font-size: 15px;
  font-weight: 500;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.search-bar:focus {
  outline: none;
  border-color: var(--active-color);
  box-shadow: var(--shadow-glow);
}

.search-icon {
  position: absolute;
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 18px;
}

/* Action Buttons */
.action-buttons {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 12px 20px;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-primary {
  background: var(--active-color);
  color: var(--bg-dark);
  box-shadow: var(--shadow-glow);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 30px rgba(0, 230, 255, 0.5);
}

.btn-secondary {
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.btn-secondary:hover {
  background: var(--bg-card-hover);
  border-color: var(--active-color);
}

/* Filters Section */
.filters-section {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  align-items: center;
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.filter-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
}

.filter-select {
  padding: 12px 16px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s ease;
  min-width: 160px;
}

.filter-select:focus {
  outline: none;
  border-color: var(--active-color);
  box-shadow: var(--shadow-glow);
}

/* Featured Video Section */
.featured-section {
  margin-bottom: 32px;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

.section-header h2 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 24px;
  font-weight: 700;
}

.featured-video-container {
  background: var(--bg-card);
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--border-color);
  transition: all 0.3s ease;
  position: relative;
}

.featured-video-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-teal));
  z-index: 1;
}

.featured-video-container:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-card);
  border-color: var(--active-color);
}

.featured-video {
  width: 100%;
  height: 400px;
  border: none;
}

.featured-video-content {
  padding: 24px;
}

.featured-video-title {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 24px;
  font-weight: 700;
  line-height: 1.3;
  margin-bottom: 16px;
}

.featured-video-description {
  font-size: 16px;
  line-height: 1.6;
  color: var(--text-secondary);
  margin-bottom: 20px;
}

.featured-video-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 16px;
  border-top: 1px solid var(--border-color);
}

.video-stats {
  display: flex;
  gap: 16px;
  font-size: 14px;
  color: var(--text-muted);
}

.video-stat {
  display: flex;
  align-items: center;
  gap: 6px;
}

.video-badge {
  background: var(--active-color);
  color: var(--bg-dark);
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Videos Grid */
.videos-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  gap: 24px;
  margin-bottom: 32px;
}

.video-card {
  background: var(--bg-card);
  border-radius: 20px;
  padding: 0;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.video-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-teal));
}

.video-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-card);
  border-color: var(--active-color);
}

.video-thumbnail-container {
  position: relative;
  width: 100%;
  height: 200px;
  overflow: hidden;
}

.video-thumbnail {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.video-card:hover .video-thumbnail {
  transform: scale(1.05);
}

.video-play-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.7);
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 24px;
  opacity: 0;
  transition: all 0.3s ease;
}

.video-card:hover .video-play-button {
  opacity: 1;
}

.video-duration {
  position: absolute;
  bottom: 12px;
  right: 12px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.video-content {
  padding: 20px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.video-title {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 18px;
  font-weight: 700;
  line-height: 1.4;
  margin-bottom: 12px;
  color: var(--text-primary);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.video-description {
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-secondary);
  margin-bottom: 16px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  flex-grow: 1;
}

.video-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: auto;
  padding-top: 16px;
  border-top: 1px solid var(--border-color);
}

.video-channel {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-muted);
}

.channel-badge {
  background: var(--bg-dark);
  color: var(--text-primary);
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.video-date {
  font-size: 13px;
  color: var(--text-muted);
}

/* Video Modal */
.video-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 2000;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal-content {
  position: relative;
  width: 90%;
  max-width: 1000px;
  background: var(--bg-card);
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--active-color);
  box-shadow: var(--shadow-glow);
}

.modal-video {
  width: 100%;
  height: 500px;
  border: none;
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.modal-close:hover {
  background: var(--active-color);
  color: var(--bg-dark);
}

.modal-info {
  padding: 24px;
}

.modal-title {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 16px;
}

.modal-description {
  font-size: 16px;
  line-height: 1.6;
  color: var(--text-secondary);
  margin-bottom: 20px;
}

/* Loading States */
.loading {
  text-align: center;
  padding: 40px;
  color: var(--text-muted);
}

.loading i {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.5;
}

/* Shimmer Loading */
.shimmer {
  background: linear-gradient(90deg, var(--bg-dark) 25%, var(--bg-card) 50%, var(--bg-dark) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 4px;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Additional Styles for Notifications and UI Elements */
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 0;
  min-width: 300px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transform: translateX(400px);
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 10000;
  overflow: hidden;
}

.notification.show {
  transform: translateX(0);
  opacity: 1;
}

.notification-content {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
}

.notification-content.success {
  border-left: 4px solid var(--up-color);
}

.notification-content.error {
  border-left: 4px solid var(--down-color);
}

.notification-content.warning {
  border-left: 4px solid #ff9800;
}

.notification-content.info {
  border-left: 4px solid #2196f3;
}

.notification-icon {
  font-size: 1.2em;
}

.notification-content.success .notification-icon {
  color: var(--up-color);
}

.notification-content.error .notification-icon {
  color: var(--down-color);
}

.notification-content.warning .notification-icon {
  color: #ff9800;
}

.notification-content.info .notification-icon {
  color: #2196f3;
}

.notification-message {
  flex: 1;
  font-size: 14px;
}

.notification-close {
  background: none;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
}

.notification-close:hover {
  background: var(--border-color);
  color: var(--text-primary);
}

.no-videos-state {
  grid-column: 1 / -1;
  text-align: center;
  padding: 60px 20px;
}

.no-videos-state i {
  font-size: 48px;
  color: var(--text-muted);
  margin-bottom: 16px;
}

.video-card.loading {
  opacity: 0.7;
  pointer-events: none;
}

.featured-video-container.loading {
  opacity: 0.7;
}

.video-category-badge {
  position: absolute;
  top: 12px;
  left: 12px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
}

.modal-stat {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--text-muted);
}

.video-stats-small {
  display: flex;
  gap: 12px;
  margin-bottom: 8px;
}

.video-stat-small {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  color: var(--text-muted);
}

.video-channel-date {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

/* Responsive Design */
@media (max-width: 768px) {
  .navbar {
    padding: 0 16px;
  }
  
  .nav-row {
    flex-wrap: wrap;
  }
  
  .menu-toggle {
    display: flex;
  }
  
  .nav-items {
    display: none;
    width: 100%;
    flex-direction: column;
    gap: 8px;
    margin-top: 16px;
  }
  
  .nav-items.show {
    display: flex;
  }
  
  .main-content {
    padding: 16px;
  }
  
  .header {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .header-controls {
    width: 100%;
    justify-content: space-between;
  }
  
  .search-container {
    width: 100%;
  }
  
  .videos-grid {
    grid-template-columns: 1fr;
  }
  
  .filters-section {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .filter-select {
    width: 100%;
  }
  
  .featured-video {
    height: 250px;
  }
  
  .modal-video {
    height: 300px;
  }
}

@media (max-width: 480px) {
  .featured-video-content {
    padding: 16px;
  }
  
  .featured-video-title {
    font-size: 20px;
  }
  
  .video-content {
    padding: 16px;
  }
}
</style>
</head>
<body>
<div class="container">
  <!-- Enhanced Navbar -->
  <header class="navbar">
    <div class="nav-wrap">
      <div class="nav-row">
        <div class="logo">
          <i class="fas fa-chart-line"></i>
          AlphaAnalytics
        </div>
        
        <button class="menu-toggle" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <nav class="nav-items">
          <a href="jeet.html" class="nav-item">
            <i class="fas fa-home"></i>Dashboard
          </a>
          <a href="portfolio.html" class="nav-item">
            <i class="fas fa-briefcase"></i>Portfolio
          </a>
          <a href="mystock.html" class="nav-item">
            <i class="fas fa-star"></i>My Stock
          </a>
          <a href="deposit.html" class="nav-item">
            <i class="fas fa-wallet"></i>Deposit
          </a>
          <a href="insight.html" class="nav-item">
            <i class="fas fa-brain"></i>Insight
          </a>
          <a href="prediction.html" class="nav-item">
            <i class="fas fa-crystal-ball"></i>Prediction
          </a>
          <a href="news.html" class="nav-item">
            <i class="fas fa-newspaper"></i>News
          </a>
          <a href="videos.html" class="nav-item active">
            <i class="fas fa-play-circle"></i>Videos
          </a>
          <a href="Superstars.html" class="nav-item">
            <i class="fas fa-trophy"></i>Superstars
          </a>
          <a href="alerts.html" class="nav-item">
            <i class="fas fa-bell"></i>Alerts
          </a>
          <a href="help.html" class="nav-item">
            <i class="fas fa-question-circle"></i>Help
          </a>
          <a href="profile.html" class="nav-item">
            <i class="fas fa-user"></i>Profile
          </a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Header -->
    <div class="header">
      <h1>Market Intelligence Videos</h1>
      <div class="header-controls">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-bar" placeholder="Search videos..." id="searchInput">
        </div>
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="VideoManager.refreshVideos()">
            <i class="fas fa-sync-alt"></i>Refresh
          </button>
          <button class="btn btn-secondary" onclick="ThemeManager.toggle()">
            <i class="fas fa-palette"></i>Theme
          </button>
        </div>
      </div>
    </div>

    <!-- Filters -->
    <div class="filters-section">
      <div class="filter-group">
        <div class="filter-label">Category</div>
        <select class="filter-select" id="categorySelect">
          <option value="all">All Categories</option>
          <option value="market-analysis">Market Analysis</option>
          <option value="trading-strategies">Trading Strategies</option>
          <option value="investment-education">Investment Education</option>
          <option value="company-updates">Company Updates</option>
          <option value="economic-news">Economic News</option>
        </select>
      </div>
      
      <div class="filter-group">
        <div class="filter-label">Duration</div>
        <select class="filter-select" id="durationSelect">
          <option value="all">Any Duration</option>
          <option value="short">Short (< 5 min)</option>
          <option value="medium">Medium (5-15 min)</option>
          <option value="long">Long (> 15 min)</option>
        </select>
      </div>
      
      <div class="filter-group">
        <div class="filter-label">Sort By</div>
        <select class="filter-select" id="sortSelect">
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
          <option value="popular">Most Popular</option>
        </select>
      </div>
    </div>

    <!-- Featured Video -->
    <div class="featured-section">
      <div class="section-header">
        <i class="fas fa-fire"></i>
        <h2>Featured Market Analysis</h2>
      </div>
      <div class="featured-video-container" id="featuredVideo">
        <!-- Featured video will be populated by JavaScript -->
      </div>
    </div>

    <!-- All Videos -->
    <div class="section-header">
      <i class="fas fa-play-circle"></i>
      <h2>Latest Market Videos</h2>
    </div>
    
    <div class="videos-grid" id="videosGrid">
      <!-- Video cards will be populated by JavaScript -->
    </div>

    <!-- Loading State -->
    <div class="loading" id="loadingState" style="display: none;">
      <i class="fas fa-spinner fa-spin"></i>
      <h3>Loading Market Videos</h3>
      <p>Fetching the latest financial insights...</p>
    </div>
  </main>
</div>

<!-- Video Modal -->
<div class="video-modal" id="videoModal">
  <div class="modal-content">
    <button class="modal-close" id="modalClose">
      <i class="fas fa-times"></i>
    </button>
    <iframe class="modal-video" id="modalVideo" src="" frameborder="0" allowfullscreen></iframe>
    <div class="modal-info">
      <h3 class="modal-title" id="modalTitle"></h3>
      <p class="modal-description" id="modalDescription"></p>
      <div class="video-stats" id="modalStats"></div>
    </div>
  </div>
</div>

<script>
// Configuration
const CONFIG = {
    CACHE_DURATION: 10 * 60 * 1000, // 10 minutes
    DEBOUNCE_DELAY: 300,
    VIDEO_LOAD_DELAY: 800,
    MAX_VIDEOS_DISPLAY: 50
};

// Video data
const VIDEOS_DATA = [
    {
        id: 1,
        title: "Market Analysis: Tech Stocks Rally Amid Fed Decision",
        description: "Detailed analysis of the recent tech stock rally following the Federal Reserve's interest rate decision and its implications for investors.",
        embedUrl: "https://www.youtube.com/embed/pYR3A8E4hqg",
        thumbnail: "https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=500",
        duration: "12:45",
        channel: "AlphaAnalytics",
        category: "market-analysis",
        views: "125K",
        likes: "4.2K",
        date: "2024-01-15",
        isFeatured: true
    },
    {
        id: 2,
        title: "Beginner's Guide to Technical Analysis",
        description: "Learn the fundamentals of technical analysis including chart patterns, indicators, and how to identify trading opportunities.",
        embedUrl: "https://www.youtube.com/embed/9f5_3y9w7x4",
        thumbnail: "https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=500",
        duration: "18:32",
        channel: "AlphaAnalytics",
        category: "investment-education",
        views: "89K",
        likes: "3.5K",
        date: "2024-01-12",
        isFeatured: false
    },
    {
        id: 3,
        title: "Top 5 Stocks to Watch This Week",
        description: "Our analysts highlight five stocks with strong potential based on recent earnings, market trends, and technical indicators.",
        embedUrl: "https://www.youtube.com/embed/DfvBMFZp1K8",
        thumbnail: "https://images.unsplash.com/photo-1642790554895-1f1e2aaff7c0?w=500",
        duration: "8:15",
        channel: "AlphaAnalytics",
        category: "trading-strategies",
        views: "67K",
        likes: "2.8K",
        date: "2024-01-10",
        isFeatured: false
    },
    {
        id: 4,
        title: "Understanding Cryptocurrency Market Cycles",
        description: "Deep dive into cryptocurrency market cycles, historical patterns, and what to expect in the current market environment.",
        embedUrl: "https://www.youtube.com/embed/yG8MbP3zEFY",
        thumbnail: "https://images.unsplash.com/photo-1516245834210-c4c142787335?w=500",
        duration: "22:10",
        channel: "AlphaAnalytics",
        category: "market-analysis",
        views: "142K",
        likes: "5.1K",
        date: "2024-01-08",
        isFeatured: false
    },
    {
        id: 5,
        title: "Options Trading Strategies for Beginners",
        description: "Learn basic options trading strategies, risk management techniques, and how to get started with options trading.",
        embedUrl: "https://www.youtube.com/embed/QwZT7T-TXT0",
        thumbnail: "https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=500",
        duration: "15:28",
        channel: "AlphaAnalytics",
        category: "investment-education",
        views: "93K",
        likes: "3.9K",
        date: "2024-01-05",
        isFeatured: false
    },
    {
        id: 6,
        title: "Global Economic Outlook 2024",
        description: "Comprehensive analysis of global economic trends, central bank policies, and their impact on financial markets in 2024.",
        embedUrl: "https://www.youtube.com/embed/5Uh1Jlv8Z1E",
        thumbnail: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=500",
        duration: "25:42",
        channel: "AlphaAnalytics",
        category: "economic-news",
        views: "178K",
        likes: "6.3K",
        date: "2024-01-03",
        isFeatured: false
    },
    {
        id: 7,
        title: "Apple Earnings Analysis: What Investors Need to Know",
        description: "Detailed breakdown of Apple's latest earnings report, key metrics, and investment implications for shareholders.",
        embedUrl: "https://www.youtube.com/embed/XxJKnDLYZz4",
        thumbnail: "https://images.unsplash.com/photo-1547658719-da2b51169166?w=500",
        duration: "10:18",
        channel: "AlphaAnalytics",
        category: "company-updates",
        views: "76K",
        likes: "3.1K",
        date: "2024-01-01",
        isFeatured: false
    },
    {
        id: 8,
        title: "Portfolio Diversification Strategies",
        description: "Learn how to properly diversify your investment portfolio across different asset classes, sectors, and geographies.",
        embedUrl: "https://www.youtube.com/embed/8m6C5K7K7w4",
        thumbnail: "https://images.unsplash.com/photo-1553877522-43269d4ea984?w=500",
        duration: "14:55",
        channel: "AlphaAnalytics",
        category: "investment-education",
        views: "81K",
        likes: "3.4K",
        date: "2023-12-28",
        isFeatured: false
    }
];

// Application State
const AppState = {
    videos: [...VIDEOS_DATA],
    filteredVideos: [...VIDEOS_DATA],
    currentFilters: {
        category: 'all',
        duration: 'all',
        sortBy: 'newest',
        searchQuery: ''
    },
    currentVideo: null,
    isInitialized: false
};

// Mobile Menu Controller
class MobileMenu {
    constructor() {
        this.menuToggle = document.querySelector('.menu-toggle');
        this.navItems = document.querySelector('.nav-items');
        this.isOpen = false;
        this.init();
    }

    init() {
        if (this.menuToggle && this.navItems) {
            this.menuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                this.toggle();
            });

            this.setupClickOutsideHandler();
        }
    }

    toggle() {
        this.isOpen = !this.isOpen;
        this.navItems.classList.toggle('show');
        
        const spans = this.menuToggle.querySelectorAll('span');
        spans.forEach(span => span.classList.toggle('active'));
    }

    close() {
        this.isOpen = false;
        this.navItems.classList.remove('show');
        const spans = this.menuToggle.querySelectorAll('span');
        spans.forEach(span => span.classList.remove('active'));
    }

    setupClickOutsideHandler() {
        document.addEventListener('click', (event) => {
            if (this.isOpen && !event.target.closest('.navbar')) {
                this.close();
            }
        });
    }
}

// Notification Manager
class NotificationManager {
    static show(message, type = 'info') {
        // Create notification element if it doesn't exist
        let notification = document.getElementById('videoNotification');
        if (!notification) {
            notification = document.createElement('div');
            notification.id = 'videoNotification';
            notification.className = 'notification';
            document.body.appendChild(notification);
        }

        const icons = {
            success: 'fa-check-circle',
            error: 'fa-exclamation-circle',
            warning: 'fa-exclamation-triangle',
            info: 'fa-info-circle'
        };

        notification.innerHTML = `
            <div class="notification-content ${type}">
                <i class="fas ${icons[type] || icons.info} notification-icon"></i>
                <span class="notification-message">${message}</span>
                <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;

        notification.classList.add('show');

        // Auto remove after 5 seconds
        setTimeout(() => {
            if (notification.parentElement) {
                notification.remove();
            }
        }, 5000);
    }
}

// Video Display Manager
class VideoDisplayManager {
    static loadFeaturedVideo() {
        const featuredVideo = AppState.videos.find(video => video.isFeatured) || AppState.videos[0];
        const featuredContainer = document.getElementById('featuredVideo');
        
        if (!featuredContainer || !featuredVideo) return;

        featuredContainer.innerHTML = `
            <div class="featured-video-container">
                <iframe 
                    class="featured-video" 
                    src="${featuredVideo.embedUrl}" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen
                    loading="lazy"
                ></iframe>
                <div class="featured-video-content">
                    <div class="video-badge">Featured</div>
                    <h2 class="featured-video-title">${featuredVideo.title}</h2>
                    <p class="featured-video-description">${featuredVideo.description}</p>
                    <div class="featured-video-meta">
                        <div class="video-stats">
                            <div class="video-stat">
                                <i class="fas fa-eye"></i>
                                <span>${featuredVideo.views} views</span>
                            </div>
                            <div class="video-stat">
                                <i class="fas fa-thumbs-up"></i>
                                <span>${featuredVideo.likes}</span>
                            </div>
                            <div class="video-stat">
                                <i class="fas fa-clock"></i>
                                <span>${featuredVideo.duration}</span>
                            </div>
                        </div>
                        <div class="video-date">${this.formatDate(featuredVideo.date)}</div>
                    </div>
                </div>
            </div>
        `;
    }

    static loadVideosGrid() {
        const videosGrid = document.getElementById('videosGrid');
        if (!videosGrid) return;

        if (AppState.filteredVideos.length === 0) {
            videosGrid.innerHTML = this.createNoVideosHTML();
            return;
        }

        // Filter out featured video from grid
        const gridVideos = AppState.filteredVideos.filter(video => !video.isFeatured);
        
        videosGrid.innerHTML = gridVideos.map(video => this.createVideoCardHTML(video)).join('');
        
        this.attachVideoCardEventListeners();
    }

    static createNoVideosHTML() {
        return `
            <div class="no-videos-state">
                <i class="fas fa-video-slash"></i>
                <h3>No Videos Found</h3>
                <p>Try adjusting your filters or search terms.</p>
                <button class="btn btn-primary" onclick="VideoManager.clearFilters()">
                    <i class="fas fa-times"></i> Clear Filters
                </button>
            </div>
        `;
    }

    static createVideoCardHTML(video) {
        return `
            <div class="video-card" data-video-id="${video.id}">
                <div class="video-thumbnail-container">
                    <img 
                        src="${video.thumbnail}" 
                        alt="${video.title}" 
                        class="video-thumbnail"
                        loading="lazy"
                    >
                    <div class="video-play-button">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="video-duration">${video.duration}</div>
                    <div class="video-category-badge">${this.formatCategory(video.category)}</div>
                </div>
                <div class="video-content">
                    <h3 class="video-title">${video.title}</h3>
                    <p class="video-description">${video.description}</p>
                    <div class="video-meta">
                        <div class="video-stats-small">
                            <span class="video-stat-small">
                                <i class="fas fa-eye"></i> ${video.views}
                            </span>
                            <span class="video-stat-small">
                                <i class="fas fa-thumbs-up"></i> ${video.likes}
                            </span>
                        </div>
                        <div class="video-channel-date">
                            <span class="channel-badge">${video.channel}</span>
                            <span class="video-date">${this.formatDate(video.date, true)}</span>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }

    static attachVideoCardEventListeners() {
        document.querySelectorAll('.video-card').forEach(card => {
            card.addEventListener('click', function() {
                const videoId = this.getAttribute('data-video-id');
                VideoModalManager.open(parseInt(videoId));
            });
        });
    }

    static formatDate(dateString, short = false) {
        try {
            const date = new Date(dateString);
            const now = new Date();
            const diffMs = now - date;
            const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));
            
            if (diffDays === 0) {
                return 'Today';
            } else if (diffDays === 1) {
                return 'Yesterday';
            } else if (diffDays < 7) {
                return `${diffDays} days ago`;
            } else if (diffDays < 30) {
                const weeks = Math.floor(diffDays / 7);
                return `${weeks} week${weeks > 1 ? 's' : ''} ago`;
            } else {
                return date.toLocaleDateString();
            }
        } catch (error) {
            return 'Unknown date';
        }
    }

    static formatCategory(category) {
        const categoryMap = {
            'market-analysis': 'Market Analysis',
            'investment-education': 'Education',
            'trading-strategies': 'Trading',
            'economic-news': 'Economics',
            'company-updates': 'Company News'
        };
        return categoryMap[category] || category;
    }

    static showLoadingState() {
        const videosGrid = document.getElementById('videosGrid');
        const featuredVideo = document.getElementById('featuredVideo');
        
        if (featuredVideo) {
            featuredVideo.innerHTML = this.createFeaturedLoadingHTML();
        }
        
        if (videosGrid) {
            videosGrid.innerHTML = this.createGridLoadingHTML();
        }
    }

    static createFeaturedLoadingHTML() {
        return `
            <div class="featured-video-container loading">
                <div class="shimmer" style="height: 400px; border-radius: 12px;"></div>
                <div style="padding: 24px;">
                    <div class="shimmer" style="height: 32px; margin-bottom: 16px; border-radius: 6px;"></div>
                    <div class="shimmer" style="height: 20px; margin-bottom: 12px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 20px; margin-bottom: 12px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 20px; width: 70%; margin-bottom: 20px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 16px; width: 50%; border-radius: 4px;"></div>
                </div>
            </div>
        `;
    }

    static createGridLoadingHTML() {
        return Array(6).fill().map(() => `
            <div class="video-card loading">
                <div class="video-thumbnail-container">
                    <div class="shimmer" style="height: 200px; border-radius: 12px 12px 0 0;"></div>
                </div>
                <div style="padding: 16px;">
                    <div class="shimmer" style="height: 20px; margin-bottom: 12px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 16px; margin-bottom: 8px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 16px; margin-bottom: 8px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 14px; width: 60%; margin-bottom: 12px; border-radius: 4px;"></div>
                    <div class="shimmer" style="height: 12px; width: 40%; border-radius: 4px;"></div>
                </div>
            </div>
        `).join('');
    }
}

// Video Modal Manager
class VideoModalManager {
    static open(videoId) {
        const video = AppState.videos.find(v => v.id === videoId);
        if (!video) {
            NotificationManager.show('Video not found', 'error');
            return;
        }

        const modal = document.getElementById('videoModal');
        const modalVideo = document.getElementById('modalVideo');
        const modalTitle = document.getElementById('modalTitle');
        const modalDescription = document.getElementById('modalDescription');
        const modalStats = document.getElementById('modalStats');

        if (!modal || !modalVideo || !modalTitle) {
            console.error('Modal elements not found');
            return;
        }

        // Update modal content
        modalVideo.src = video.embedUrl;
        modalTitle.textContent = video.title;
        modalDescription.textContent = video.description;
        
        if (modalStats) {
            modalStats.innerHTML = `
                <div class="modal-stat">
                    <i class="fas fa-eye"></i>
                    <span>${video.views} views</span>
                </div>
                <div class="modal-stat">
                    <i class="fas fa-thumbs-up"></i>
                    <span>${video.likes} likes</span>
                </div>
                <div class="modal-stat">
                    <i class="fas fa-clock"></i>
                    <span>${video.duration}</span>
                </div>
                <div class="modal-stat">
                    <i class="fas fa-calendar"></i>
                    <span>${VideoDisplayManager.formatDate(video.date)}</span>
                </div>
            `;
        }

        // Show modal
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';

        AppState.currentVideo = video;
        NotificationManager.show(`Now playing: ${video.title}`, 'info');
    }

    static close() {
        const modal = document.getElementById('videoModal');
        const modalVideo = document.getElementById('modalVideo');

        if (modal) {
            modal.style.display = 'none';
        }

        if (modalVideo) {
            modalVideo.src = '';
        }

        document.body.style.overflow = 'auto';
        document.documentElement.style.overflow = 'auto';
        AppState.currentVideo = null;
    }

    static setupEventListeners() {
        // Modal close button
        const modalClose = document.getElementById('modalClose');
        if (modalClose) {
            modalClose.addEventListener('click', this.close);
        }

        // Close modal when clicking outside
        const modal = document.getElementById('videoModal');
        if (modal) {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    VideoModalManager.close();
                }
            });
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && AppState.currentVideo) {
                VideoModalManager.close();
            }
        });
    }
}

// Filter Manager
class FilterManager {
    constructor() {
        this.categorySelect = document.getElementById('categorySelect');
        this.durationSelect = document.getElementById('durationSelect');
        this.sortSelect = document.getElementById('sortSelect');
        this.searchInput = document.getElementById('searchInput');
        this.debouncedFilter = this.debounce(this.applyFilters.bind(this), CONFIG.DEBOUNCE_DELAY);
        this.init();
    }

    init() {
        if (this.categorySelect) {
            this.categorySelect.addEventListener('change', () => this.handleFilterChange());
        }
        if (this.durationSelect) {
            this.durationSelect.addEventListener('change', () => this.handleFilterChange());
        }
        if (this.sortSelect) {
            this.sortSelect.addEventListener('change', () => this.handleFilterChange());
        }
        if (this.searchInput) {
            this.searchInput.addEventListener('input', this.debouncedFilter);
        }
    }

    handleFilterChange() {
        this.applyFilters();
    }

    applyFilters() {
        const category = this.categorySelect?.value || 'all';
        const duration = this.durationSelect?.value || 'all';
        const sortBy = this.sortSelect?.value || 'newest';
        const searchQuery = this.searchInput?.value.toLowerCase().trim() || '';

        AppState.currentFilters = { category, duration, sortBy, searchQuery };
        VideoManager.filterVideos();
    }

    clear() {
        if (this.categorySelect) this.categorySelect.value = 'all';
        if (this.durationSelect) this.durationSelect.value = 'all';
        if (this.sortSelect) this.sortSelect.value = 'newest';
        if (this.searchInput) this.searchInput.value = '';
        
        this.applyFilters();
        NotificationManager.show('Filters cleared', 'success');
    }

    debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }
}

// Video Manager
class VideoManager {
    static filterVideos() {
        const { category, duration, sortBy, searchQuery } = AppState.currentFilters;

        // Apply filters
        AppState.filteredVideos = AppState.videos.filter(video => {
            // Category filter
            if (category !== 'all' && video.category !== category) {
                return false;
            }
            
            // Duration filter
            if (duration !== 'all') {
                const minutes = this.parseDuration(video.duration);
                if (duration === 'short' && minutes >= 5) return false;
                if (duration === 'medium' && (minutes < 5 || minutes > 15)) return false;
                if (duration === 'long' && minutes <= 15) return false;
            }
            
            // Search filter
            if (searchQuery && 
                !video.title.toLowerCase().includes(searchQuery) && 
                !video.description.toLowerCase().includes(searchQuery) &&
                !video.channel.toLowerCase().includes(searchQuery)) {
                return false;
            }
            
            return true;
        });

        // Sort videos
        AppState.filteredVideos.sort((a, b) => {
            switch (sortBy) {
                case 'newest':
                    return new Date(b.date) - new Date(a.date);
                case 'oldest':
                    return new Date(a.date) - new Date(b.date);
                case 'popular':
                    return this.parseViews(b.views) - this.parseViews(a.views);
                default:
                    return 0;
            }
        });

        VideoDisplayManager.loadVideosGrid();
    }

    static parseDuration(duration) {
        const parts = duration.split(':');
        if (parts.length === 2) {
            return parseInt(parts[0]) * 60 + parseInt(parts[1]);
        }
        return parseInt(duration);
    }

    static parseViews(views) {
        if (views.includes('K')) {
            return parseFloat(views) * 1000;
        } else if (views.includes('M')) {
            return parseFloat(views) * 1000000;
        }
        return parseInt(views) || 0;
    }

    static clearFilters() {
        const filterManager = VideoApp.getInstance().filterManager;
        filterManager.clear();
    }

    static refreshVideos() {
        VideoDisplayManager.showLoadingState();
        
        setTimeout(() => {
            VideoDisplayManager.loadFeaturedVideo();
            VideoManager.filterVideos();
            NotificationManager.show('Videos refreshed', 'success');
        }, CONFIG.VIDEO_LOAD_DELAY);
    }
}

// Theme Manager
class ThemeManager {
    static toggle() {
        document.body.classList.toggle('light');
        const isLight = document.body.classList.contains('light');
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
        NotificationManager.show(`Theme changed to ${isLight ? 'light' : 'dark'} mode`, 'info');
    }

    static load() {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light');
        }
    }
}

// Main Video Application
class VideoApp {
    constructor() {
        this.mobileMenu = null;
        this.filterManager = null;
        this.instance = null;
        this.init();
    }

    static getInstance() {
        return this.instance;
    }

    async init() {
        console.log('🚀 Initializing Video Application...');
        VideoApp.instance = this;
        
        // Load theme
        ThemeManager.load();
        
        // Initialize components
        this.mobileMenu = new MobileMenu();
        this.filterManager = new FilterManager();
        VideoModalManager.setupEventListeners();
        
        // Load initial content with loading state
        VideoDisplayManager.showLoadingState();
        
        // Simulate API delay
        setTimeout(() => {
            VideoDisplayManager.loadFeaturedVideo();
            VideoManager.filterVideos();
            AppState.isInitialized = true;
            console.log('✅ Video Application initialized successfully');
        }, CONFIG.VIDEO_LOAD_DELAY);
    }

    destroy() {
        VideoModalManager.close();
        console.log('📋 Video Application destroyed');
    }
}

// Initialize the application
document.addEventListener('DOMContentLoaded', () => {
    window.videoApp = new VideoApp();
});

// Error boundary
window.addEventListener('error', (event) => {
    console.error('Global error:', event.error);
    NotificationManager.show('An unexpected error occurred', 'error');
});
</script>
</body>
</html>