<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AlphaAnalytics - Superstar Investors</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

:root {
  --primary-white: #fff;
  --bg-gradient: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
  --bg-dark: #0f0f23;
  --bg-card: rgba(30, 30, 46, 0.8);
  --bg-card-hover: rgba(40, 40, 62, 0.9);
  --text-primary: #ffffff;
  --text-secondary: #a0a0c0;
  --text-muted: #707090;
  --border-color: rgba(255, 255, 255, 0.1);
  --hover-color: rgba(0, 230, 255, 0.15);
  --active-color: #00e6ff;
  --up-color: #00ff9d;
  --down-color: #ff4d7c;
  --accent-blue: #00e6ff;
  --accent-teal: #00ff9d;
  --accent-purple: #8a2be2;
  --accent-pink: #ff4d7c;
  --shadow-glow: 0 0 20px rgba(0, 230, 255, 0.3);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.2);
}

body.light {
  --bg-gradient: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  --bg-dark: #ffffff;
  --bg-card: rgba(255, 255, 255, 0.9);
  --bg-card-hover: rgba(255, 255, 255, 1);
  --text-primary: #1e293b;
  --text-secondary: #475569;
  --text-muted: #64748b;
  --border-color: rgba(0, 0, 0, 0.1);
  --hover-color: rgba(0, 230, 255, 0.1);
  --active-color: #0077cc;
  --shadow-glow: 0 0 20px rgba(0, 119, 204, 0.2);
  --shadow-card: 0 8px 32px rgba(0, 0, 0, 0.1);
}

body {
  background: var(--bg-gradient);
  color: var(--text-primary);
  transition: all 0.4s ease;
  min-height: 100vh;
  line-height: 1.6;
}

.container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: 1400px;
  margin: 0 auto;
}

/* Enhanced Navbar */
.navbar {
  background: rgba(15, 15, 35, 0.9);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 1000;
  padding: 0;
}

.nav-wrap {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 20px;
}

.nav-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 0;
}

.logo {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: flex;
  align-items: center;
  gap: 8px;
}

.logo i {
  font-size: 24px;
}

.nav-items {
  display: flex;
  gap: 8px;
  list-style: none;
}

.nav-item {
  padding: 10px 16px;
  border-radius: 12px;
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 6px;
}

.nav-item:hover {
  background: var(--hover-color);
  color: var(--active-color);
  transform: translateY(-2px);
}

.nav-item.active {
  background: var(--active-color);
  color: var(--bg-dark);
  box-shadow: var(--shadow-glow);
}

/* Mobile Menu Animation */
.menu-toggle {
  display: none;
  flex-direction: column;
  gap: 4px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
}

.menu-toggle span {
  width: 24px;
  height: 2px;
  background: var(--text-primary);
  border-radius: 2px;
  transition: all 0.3s ease;
}

.menu-toggle span.active:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.menu-toggle span.active:nth-child(2) {
  opacity: 0;
}

.menu-toggle span.active:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

/* Ensure mobile menu displays properly */
@media (max-width: 768px) {
  .nav-items {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--bg-dark);
    border-top: 1px solid var(--border-color);
    padding: 16px;
    flex-direction: column;
    gap: 8px;
    z-index: 1000;
  }
  
  .nav-items.show {
    display: flex;
  }
  
  .nav-item {
    padding: 12px 16px;
    border-radius: 8px;
    justify-content: flex-start;
  }
  
  .menu-toggle {
    display: flex;
  }
}

/* Main Content */
.main-content {
  flex: 1;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 32px;
}

/* Header Section */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  flex-wrap: wrap;
  gap: 20px;
}

.header h1 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 32px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.header-controls {
  display: flex;
  gap: 16px;
  align-items: center;
}

/* Search Bar */
.search-container {
  position: relative;
  width: 400px;
  max-width: 100%;
}

.search-bar {
  width: 100%;
  padding: 14px 20px 14px 48px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  color: var(--text-primary);
  font-size: 15px;
  font-weight: 500;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.search-bar:focus {
  outline: none;
  border-color: var(--active-color);
  box-shadow: var(--shadow-glow);
}

.search-icon {
  position: absolute;
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-muted);
  font-size: 18px;
}

/* Action Buttons */
.action-buttons {
  display: flex;
  gap: 12px;
}

.btn {
  padding: 12px 20px;
  border: none;
  border-radius: 12px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-primary {
  background: var(--active-color);
  color: var(--bg-dark);
  box-shadow: var(--shadow-glow);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 30px rgba(0, 230, 255, 0.5);
}

.btn-secondary {
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.btn-secondary:hover {
  background: var(--bg-card-hover);
  border-color: var(--active-color);
}

/* Filters Section */
.filters-section {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  align-items: center;
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.filter-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
}

.filter-select {
  padding: 12px 16px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s ease;
  min-width: 160px;
}

.filter-select:focus {
  outline: none;
  border-color: var(--active-color);
  box-shadow: var(--shadow-glow);
}

/* Investor Cards */
.investors-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
  gap: 24px;
  margin-bottom: 32px;
}

.investor-card {
  background: var(--bg-card);
  border-radius: 20px;
  padding: 24px;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.investor-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-teal));
}

.investor-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-card);
  border-color: var(--active-color);
}

.investor-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 16px;
}

.investor-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: var(--bg-dark);
  font-weight: 700;
}

.investor-info {
  flex: 1;
}

.investor-name {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 4px;
}

.investor-meta {
  display: flex;
  gap: 8px;
  align-items: center;
}

.investor-type {
  font-size: 14px;
  color: var(--text-secondary);
  font-weight: 500;
}

.investor-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  margin-bottom: 20px;
}

.stat-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.stat-label {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 500;
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  font-family: 'Space Grotesk', sans-serif;
}

.stat-change {
  font-size: 14px;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  width: fit-content;
}

.stat-change.positive {
  background: rgba(0, 255, 157, 0.15);
  color: var(--up-color);
}

.stat-change.negative {
  background: rgba(255, 77, 124, 0.15);
  color: var(--down-color);
}

.investor-holdings {
  margin-bottom: 20px;
}

.holdings-title {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 12px;
  color: var(--text-secondary);
}

.holdings-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.holding-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid var(--border-color);
}

.holding-name {
  font-size: 14px;
  font-weight: 500;
}

.holding-value {
  font-size: 14px;
  font-weight: 600;
  font-family: 'Space Grotesk', sans-serif;
}

.investor-sectors {
  margin-bottom: 20px;
}

.sectors-title {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 8px;
  color: var(--text-secondary);
}

.sectors-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.sector-tag {
  padding: 4px 8px;
  background: var(--border-color);
  border-radius: 12px;
  font-size: 11px;
  color: var(--text-muted);
}

.investor-actions {
  display: flex;
  gap: 12px;
}

.btn-small {
  padding: 8px 16px;
  font-size: 13px;
  border-radius: 8px;
}

/* Top Performers Section */
.top-performers {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
  margin-bottom: 32px;
}

@media (max-width: 900px) {
  .top-performers {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 600px) {
  .top-performers {
    grid-template-columns: 1fr;
  }
}

.performer-card {
  background: var(--bg-card);
  border-radius: 20px;
  padding: 24px;
  border: 1px solid var(--border-color);
  backdrop-filter: blur(10px);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  text-align: center;
  cursor: pointer;
}

.performer-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--accent-blue), var(--accent-teal));
}

.performer-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-card);
  border-color: var(--active-color);
}

.performer-rank {
  position: absolute;
  top: 16px;
  right: 16px;
  background: var(--active-color);
  color: var(--bg-dark);
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
}

.performer-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: var(--bg-dark);
  font-weight: 700;
  margin: 0 auto 16px;
}

.performer-name {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 8px;
}

.performer-type {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.performer-metric {
  font-size: 24px;
  font-weight: 700;
  font-family: 'Space Grotesk', sans-serif;
  margin-bottom: 8px;
}

.performer-label {
  font-size: 14px;
  color: var(--text-secondary);
}

.performer-networth {
  font-size: 16px;
  font-weight: 600;
  margin-top: 8px;
  color: var(--text-primary);
}

/* Section Headers */
.section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
}

.section-header h2 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 24px;
  font-weight: 700;
}

/* Loading States */
.loading {
  text-align: center;
  padding: 40px;
  color: var(--text-muted);
}

.loading i {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.5;
}

/* Shimmer Loading */
.shimmer {
  background: linear-gradient(90deg, var(--bg-dark) 25%, var(--bg-card) 50%, var(--bg-dark) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 4px;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Investor Modal */
.investor-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 2000;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal-content {
  position: relative;
  width: 90%;
  max-width: 800px;
  background: var(--bg-card);
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--active-color);
  box-shadow: var(--shadow-glow);
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 24px;
  border-bottom: 1px solid var(--border-color);
  background: var(--bg-card-hover);
}

.investor-avatar-large {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-blue), var(--accent-teal));
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: var(--bg-dark);
  font-weight: 700;
}

.investor-info-large {
  flex: 1;
}

.investor-info-large h2 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 8px;
}

.investor-details {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.modal-close:hover {
  background: var(--active-color);
  color: var(--bg-dark);
}

.modal-body {
  padding: 24px;
}

.modal-stats {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  margin-bottom: 24px;
}

.modal-stat {
  text-align: center;
  padding: 16px;
  background: var(--bg-card-hover);
  border-radius: 12px;
  border: 1px solid var(--border-color);
}

.modal-stat-value {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 4px;
}

.modal-stat-value.positive {
  color: var(--up-color);
}

.modal-stat-value.negative {
  color: var(--down-color);
}

.modal-stat-label {
  font-size: 14px;
  color: var(--text-secondary);
}

.modal-section {
  margin-bottom: 24px;
}

.modal-section h3 {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 16px;
  color: var(--text-primary);
}

.holdings-detailed {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.holding-detailed {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--bg-card-hover);
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

.holding-rank {
  width: 32px;
  height: 32px;
  background: var(--active-color);
  color: var(--bg-dark);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
}

.holding-info {
  flex: 1;
}

.holding-name {
  font-weight: 600;
  margin-bottom: 4px;
}

.holding-value {
  font-size: 14px;
  color: var(--text-secondary);
}

.profile-details {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.profile-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid var(--border-color);
}

.profile-label {
  font-weight: 600;
  color: var(--text-secondary);
}

.profile-value {
  font-weight: 500;
}

.modal-actions {
  display: flex;
  gap: 12px;
  justify-content: center;
  padding-top: 16px;
  border-top: 1px solid var(--border-color);
}

/* Additional Styles */
.risk-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  color: white;
}

.since-badge {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  background: var(--border-color);
  color: var(--text-muted);
}

.investor-avatar.individual {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.investor-avatar.institutional {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.investor-avatar.fii {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.performer-avatar.individual {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.performer-avatar.institutional {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
}

.performer-avatar.fii {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

.rank-1 {
  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
}

.rank-2 {
  background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%);
}

.rank-3 {
  background: linear-gradient(135deg, #cd7f32 0%, #e9a768 100%);
}

/* Notification Styles */
.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 0;
  min-width: 300px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transform: translateX(400px);
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 10000;
  overflow: hidden;
}

.notification.show {
  transform: translateX(0);
  opacity: 1;
}

.notification-content {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
}

.notification-content.success {
  border-left: 4px solid var(--up-color);
}

.notification-content.error {
  border-left: 4px solid var(--down-color);
}

.notification-content.warning {
  border-left: 4px solid #ff9800;
}

.notification-content.info {
  border-left: 4px solid #2196f3;
}

.notification-icon {
  font-size: 1.2em;
}

.notification-content.success .notification-icon {
  color: var(--up-color);
}

.notification-content.error .notification-icon {
  color: var(--down-color);
}

.notification-content.warning .notification-icon {
  color: #ff9800;
}

.notification-content.info .notification-icon {
  color: #2196f3;
}

.notification-message {
  flex: 1;
  font-size: 14px;
}

.notification-close {
  background: none;
  border: none;
  color: var(--text-muted);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
}

.notification-close:hover {
  background: var(--border-color);
  color: var(--text-primary);
}

.no-investors-state {
  grid-column: 1 / -1;
  text-align: center;
  padding: 60px 20px;
}

.no-investors-state i {
  font-size: 48px;
  color: var(--text-muted);
  margin-bottom: 16px;
}

.investor-card.loading, .performer-card.loading {
  opacity: 0.7;
  pointer-events: none;
}

/* Responsive Design */
@media (max-width: 768px) {
  .navbar {
    padding: 0 16px;
  }
  
  .nav-row {
    flex-wrap: wrap;
  }
  
  .menu-toggle {
    display: flex;
  }
  
  .nav-items {
    display: none;
    width: 100%;
    flex-direction: column;
    gap: 8px;
    margin-top: 16px;
  }
  
  .nav-items.show {
    display: flex;
  }
  
  .main-content {
    padding: 16px;
  }
  
  .header {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .header-controls {
    width: 100%;
    justify-content: space-between;
  }
  
  .search-container {
    width: 100%;
  }
  
  .investors-grid {
    grid-template-columns: 1fr;
  }
  
  .filters-section {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .filter-select {
    width: 100%;
  }
  
  .modal-stats {
    grid-template-columns: 1fr;
  }
  
  .modal-actions {
    flex-direction: column;
  }
  
  .investor-details {
    flex-direction: column;
    align-items: flex-start;
  }
}

@media (max-width: 480px) {
  .investor-card {
    padding: 20px;
  }
  
  .performer-card {
    padding: 20px;
  }
  
  .investor-stats {
    grid-template-columns: 1fr;
  }
  
  .modal-header {
    flex-direction: column;
    text-align: center;
  }
  
  .investor-details {
    justify-content: center;
  }
}
</style>
</head>
<body>
<div class="container">
  <!-- Enhanced Navbar -->
  <header class="navbar">
    <div class="nav-wrap">
      <div class="nav-row">
        <div class="logo">
          <i class="fas fa-chart-line"></i>
          AlphaAnalytics
        </div>
        
        <button class="menu-toggle" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <nav class="nav-items">
          <a href="/jeet" class="nav-item">
            <i class="fas fa-home"></i>Dashboard
          </a>
          <a href="/portfolio" class="nav-item">
            <i class="fas fa-briefcase"></i>Portfolio
          </a>
          <a href="/mystock" class="nav-item">
            <i class="fas fa-star"></i>My Stock
          </a>
          <a href="/deposit" class="nav-item">
            <i class="fas fa-wallet"></i>Deposit
          </a>
          <a href="/insight" class="nav-item">
            <i class="fas fa-brain"></i>Insight
          </a>
          <a href="/prediction" class="nav-item">
            <i class="fas fa-crystal-ball"></i>Prediction
          </a>
          <a href="/news" class="nav-item">
            <i class="fas fa-newspaper"></i>News
          </a>
          <a href="/videos" class="nav-item">
            <i class="fas fa-play-circle"></i>Videos
          </a>
          <a href="Superstars" class="nav-item active">
            <i class="fas fa-trophy"></i>Superstars
          </a>
          <a href="/alerts" class="nav-item">
            <i class="fas fa-bell"></i>Alerts
          </a>
          <a href="/help" class="nav-item">
            <i class="fas fa-question-circle"></i>Help
          </a>
          <a href="/profile" class="nav-item">
            <i class="fas fa-user"></i>Profile
          </a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Header -->
    <div class="header">
      <h1>Superstar Investors</h1>
      <div class="header-controls">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-bar" placeholder="Search investors..." id="searchInput">
        </div>
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="InvestorManager.refreshInvestors()">
            <i class="fas fa-sync-alt"></i>Refresh
          </button>
          <button class="btn btn-secondary" onclick="ThemeManager.toggle()">
            <i class="fas fa-palette"></i>Theme
          </button>
        </div>
      </div>
    </div>

    <!-- Filters -->
    <div class="filters-section">
      <div class="filter-group">
        <div class="filter-label">Investor Type</div>
        <select class="filter-select" id="typeSelect">
          <option value="all">All Types</option>
          <option value="individual">Individual</option>
          <option value="institutional">Institutional</option>
          <option value="fii">Foreign Institutional</option>
        </select>
      </div>
      
      <div class="filter-group">
        <div class="filter-label">Sort By</div>
        <select class="filter-select" id="sortSelect">
          <option value="net-worth">Net Worth</option>
          <option value="quarterly-change">Quarterly Change</option>
          <option value="portfolio-size">Portfolio Size</option>
        </select>
      </div>
    </div>

    <!-- Top Performers -->
    <div class="section-header">
      <i class="fas fa-trophy"></i>
      <h2>Top Performers This Quarter</h2>
    </div>
    
    <div class="top-performers" id="topPerformers">
      <!-- Top performers will be populated by JavaScript -->
    </div>

    <!-- All Investors -->
    <div class="section-header">
      <i class="fas fa-users"></i>
      <h2>All Superstar Investors</h2>
    </div>
    
    <div class="investors-grid" id="investorsGrid">
      <!-- Investor cards will be populated by JavaScript -->
    </div>

    <!-- Loading State -->
    <div class="loading" id="loadingState" style="display: none;">
      <i class="fas fa-spinner fa-spin"></i>
      <h3>Loading Investor Data</h3>
      <p>Fetching the latest superstar portfolios...</p>
    </div>
  </main>
</div>

<!-- Investor Modal -->
<div class="investor-modal" id="investorModal">
  <div class="modal-content">
    <div id="modalContent">
      <!-- Modal content will be populated by JavaScript -->
    </div>
  </div>
</div>

<script>
// Configuration
const CONFIG = {
    CACHE_DURATION: 15 * 60 * 1000, // 15 minutes
    DEBOUNCE_DELAY: 300,
    LOAD_DELAY: 800,
    MAX_INVESTORS_DISPLAY: 50
};

// Investor data
const INVESTORS_DATA = [
    {
        id: 1,
        name: "Rakesh Jhunjhunwala",
        type: "individual",
        avatar: "RJ",
        netWorth: "₹28,000 Cr",
        quarterlyChange: 12.5,
        portfolioSize: 32,
        topHoldings: [
            { name: "Titan Company", value: "₹10,200 Cr" },
            { name: "Star Health", value: "₹4,500 Cr" },
            { name: "Tata Motors", value: "₹3,800 Cr" }
        ],
        preferredSectors: ["Consumer Goods", "Automobile", "Insurance"],
        riskProfile: "High",
        investmentStyle: "Long-term Growth",
        since: "1985"
    },
    {
        id: 2,
        name: "Radhakishan Damani",
        type: "individual",
        avatar: "RD",
        netWorth: "₹16,500 Cr",
        quarterlyChange: 8.2,
        portfolioSize: 18,
        topHoldings: [
            { name: "Avenue Supermarts", value: "₹12,000 Cr" },
            { name: "India Cements", value: "₹1,200 Cr" },
            { name: "Apollo Hospitals", value: "₹950 Cr" }
        ],
        preferredSectors: ["Retail", "Cement", "Healthcare"],
        riskProfile: "Medium",
        investmentStyle: "Value Investing",
        since: "1990"
    },
    {
        id: 3,
        name: "Rakesh Jhunjhunwala Family",
        type: "individual",
        avatar: "RJF",
        netWorth: "₹12,800 Cr",
        quarterlyChange: 9.7,
        portfolioSize: 28,
        topHoldings: [
            { name: "CRISIL", value: "₹3,200 Cr" },
            { name: "NCC", value: "₹1,800 Cr" },
            { name: "Escorts Kubota", value: "₹1,500 Cr" }
        ],
        preferredSectors: ["Financial Services", "Construction", "Automobile"],
        riskProfile: "High",
        investmentStyle: "Growth Investing",
        since: "2000"
    },
    {
        id: 4,
        name: "Mukul Agrawal",
        type: "individual",
        avatar: "MA",
        netWorth: "₹4,200 Cr",
        quarterlyChange: 15.3,
        portfolioSize: 45,
        topHoldings: [
            { name: "Tata Investment", value: "₹680 Cr" },
            { name: "Aptus Value Housing", value: "₹520 Cr" },
            { name: "Easy Trip Planners", value: "₹480 Cr" }
        ],
        preferredSectors: ["Financial Services", "Real Estate", "Travel"],
        riskProfile: "Very High",
        investmentStyle: "Aggressive Growth",
        since: "2010"
    },
    {
        id: 5,
        name: "Ashish Kacholia",
        type: "individual",
        avatar: "AK",
        netWorth: "₹3,800 Cr",
        quarterlyChange: 11.8,
        portfolioSize: 38,
        topHoldings: [
            { name: "Happiest Minds", value: "₹420 Cr" },
            { name: "Bajaj Electricals", value: "₹380 Cr" },
            { name: "Tasty Bite", value: "₹320 Cr" }
        ],
        preferredSectors: ["Technology", "Consumer Goods", "FMCG"],
        riskProfile: "High",
        investmentStyle: "Mid-cap Focus",
        since: "2005"
    },
    {
        id: 6,
        name: "Dolly Khanna",
        type: "individual",
        avatar: "DK",
        netWorth: "₹2,900 Cr",
        quarterlyChange: 7.4,
        portfolioSize: 22,
        topHoldings: [
            { name: "Rain Industries", value: "₹520 Cr" },
            { name: "Nocil", value: "₹480 Cr" },
            { name: "Balaji Amines", value: "₹420 Cr" }
        ],
        preferredSectors: ["Chemicals", "Manufacturing", "Specialty Chemicals"],
        riskProfile: "Medium",
        investmentStyle: "Value Investing",
        since: "1998"
    },
    {
        id: 7,
        name: "HDFC Mutual Fund",
        type: "institutional",
        avatar: "HDFC",
        netWorth: "₹4,85,000 Cr",
        quarterlyChange: 6.8,
        portfolioSize: 210,
        topHoldings: [
            { name: "Reliance Industries", value: "₹32,000 Cr" },
            { name: "Infosys", value: "₹28,500 Cr" },
            { name: "ICICI Bank", value: "₹25,800 Cr" }
        ],
        preferredSectors: ["Technology", "Banking", "Energy"],
        riskProfile: "Low",
        investmentStyle: "Diversified",
        since: "2000"
    },
    {
        id: 8,
        name: "ICICI Prudential MF",
        type: "institutional",
        avatar: "ICICI",
        netWorth: "₹3,92,000 Cr",
        quarterlyChange: 5.9,
        portfolioSize: 195,
        topHoldings: [
            { name: "HDFC Bank", value: "₹29,200 Cr" },
            { name: "Reliance Industries", value: "₹24,800 Cr" },
            { name: "TCS", value: "₹21,500 Cr" }
        ],
        preferredSectors: ["Banking", "Energy", "Technology"],
        riskProfile: "Low",
        investmentStyle: "Balanced",
        since: "1998"
    },
    {
        id: 9,
        name: "Foreign Portfolio Investors",
        type: "fii",
        avatar: "FPI",
        netWorth: "₹52,00,000 Cr",
        quarterlyChange: 8.7,
        portfolioSize: 450,
        topHoldings: [
            { name: "Reliance Industries", value: "₹1,85,000 Cr" },
            { name: "Infosys", value: "₹1,42,000 Cr" },
            { name: "HDFC Bank", value: "₹1,28,000 Cr" }
        ],
        preferredSectors: ["Technology", "Energy", "Banking"],
        riskProfile: "Medium",
        investmentStyle: "Large-cap Focus",
        since: "1991"
    }
];

// Application State
const AppState = {
    investors: [...INVESTORS_DATA],
    filteredInvestors: [...INVESTORS_DATA],
    currentFilters: {
        type: 'all',
        sortBy: 'net-worth',
        searchQuery: ''
    },
    currentInvestor: null,
    isInitialized: false,
    cache: new Map()
};

// Mobile Menu Controller
class MobileMenu {
    constructor() {
        this.menuToggle = document.querySelector('.menu-toggle');
        this.navItems = document.querySelector('.nav-items');
        this.isOpen = false;
        this.init();
    }

    init() {
        if (this.menuToggle && this.navItems) {
            this.menuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                this.toggle();
            });

            this.setupClickOutsideHandler();
        }
    }

    toggle() {
        this.isOpen = !this.isOpen;
        this.navItems.classList.toggle('show');
        
        const spans = this.menuToggle.querySelectorAll('span');
        spans.forEach(span => span.classList.toggle('active'));
    }

    close() {
        this.isOpen = false;
        this.navItems.classList.remove('show');
        const spans = this.menuToggle.querySelectorAll('span');
        spans.forEach(span => span.classList.remove('active'));
    }

    setupClickOutsideHandler() {
        document.addEventListener('click', (event) => {
            if (this.isOpen && !event.target.closest('.navbar')) {
                this.close();
            }
        });
    }
}

// Notification Manager
class NotificationManager {
    static show(message, type = 'info') {
        let notification = document.getElementById('investorNotification');
        if (!notification) {
            notification = document.createElement('div');
            notification.id = 'investorNotification';
            notification.className = 'notification';
            document.body.appendChild(notification);
        }

        const icons = {
            success: 'fa-check-circle',
            error: 'fa-exclamation-circle',
            warning: 'fa-exclamation-triangle',
            info: 'fa-info-circle'
        };

        notification.innerHTML = `
            <div class="notification-content ${type}">
                <i class="fas ${icons[type] || icons.info} notification-icon"></i>
                <span class="notification-message">${message}</span>
                <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;

        notification.classList.add('show');

        setTimeout(() => {
            if (notification.parentElement) {
                notification.remove();
            }
        }, 5000);
    }
}

// Investor Display Manager
class InvestorDisplayManager {
    static loadTopPerformers() {
        const topPerformersContainer = document.getElementById('topPerformers');
        if (!topPerformersContainer) return;

        // Get top 3 performers by quarterly change
        const topPerformers = [...AppState.investors]
            .sort((a, b) => b.quarterlyChange - a.quarterlyChange)
            .slice(0, 3);
        
        topPerformersContainer.innerHTML = topPerformers.map((investor, index) => `
            <div class="performer-card" data-investor-id="${investor.id}">
                <div class="performer-rank rank-${index + 1}">${index + 1}</div>
                <div class="performer-avatar ${investor.type}">${investor.avatar}</div>
                <h3 class="performer-name">${investor.name}</h3>
                <div class="performer-type">${this.formatInvestorType(investor.type)}</div>
                <div class="performer-metric positive">+${investor.quarterlyChange}%</div>
                <div class="performer-label">Quarterly Growth</div>
                <div class="performer-networth">${investor.netWorth}</div>
            </div>
        `).join('');

        this.attachPerformerCardEventListeners();
    }

    static loadInvestorsGrid() {
        const investorsGrid = document.getElementById('investorsGrid');
        if (!investorsGrid) return;

        if (AppState.filteredInvestors.length === 0) {
            investorsGrid.innerHTML = this.createNoInvestorsHTML();
            return;
        }
        
        investorsGrid.innerHTML = AppState.filteredInvestors.map(investor => 
            this.createInvestorCardHTML(investor)
        ).join('');
        
        this.attachInvestorCardEventListeners();
    }

    static createNoInvestorsHTML() {
        return `
            <div class="no-investors-state">
                <i class="fas fa-user-slash"></i>
                <h3>No Investors Found</h3>
                <p>Try adjusting your filters or search terms.</p>
                <button class="btn btn-primary" onclick="InvestorManager.clearFilters()">
                    <i class="fas fa-times"></i> Clear Filters
                </button>
            </div>
        `;
    }

    static createInvestorCardHTML(investor) {
        const riskColor = this.getRiskColor(investor.riskProfile);
        
        return `
            <div class="investor-card" data-investor-id="${investor.id}">
                <div class="investor-header">
                    <div class="investor-avatar ${investor.type}">${investor.avatar}</div>
                    <div class="investor-info">
                        <h3 class="investor-name">${investor.name}</h3>
                        <div class="investor-meta">
                            <span class="investor-type">${this.formatInvestorType(investor.type)}</span>
                            <span class="risk-badge" style="background: ${riskColor}">${investor.riskProfile}</span>
                        </div>
                    </div>
                </div>
                
                <div class="investor-stats">
                    <div class="stat-item">
                        <div class="stat-label">Net Worth</div>
                        <div class="stat-value">${investor.netWorth}</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Quarterly Change</div>
                        <div class="stat-change ${investor.quarterlyChange >= 0 ? 'positive' : 'negative'}">
                            <i class="fas ${investor.quarterlyChange >= 0 ? 'fa-arrow-up' : 'fa-arrow-down'}"></i>
                            ${Math.abs(investor.quarterlyChange)}%
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Portfolio Size</div>
                        <div class="stat-value">${investor.portfolioSize} stocks</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Investment Style</div>
                        <div class="stat-value">${investor.investmentStyle}</div>
                    </div>
                </div>
                
                <div class="investor-holdings">
                    <div class="holdings-title">Top Holdings</div>
                    <div class="holdings-list">
                        ${investor.topHoldings.map(holding => `
                            <div class="holding-item">
                                <span class="holding-name">${holding.name}</span>
                                <span class="holding-value">${holding.value}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="investor-sectors">
                    <div class="sectors-title">Preferred Sectors</div>
                    <div class="sectors-tags">
                        ${investor.preferredSectors.map(sector => `
                            <span class="sector-tag">${sector}</span>
                        `).join('')}
                    </div>
                </div>
                
                <div class="investor-actions">
                    <button class="btn btn-primary btn-small" onclick="event.stopPropagation(); InvestorModalManager.open(${investor.id})">
                        <i class="fas fa-chart-line"></i> View Details
                    </button>
                    <button class="btn btn-secondary btn-small" onclick="event.stopPropagation(); InvestorManager.viewTrendlyne('${investor.name}')">
                        <i class="fas fa-external-link-alt"></i> Trendlyne
                    </button>
                </div>
            </div>
        `;
    }

    static attachPerformerCardEventListeners() {
        document.querySelectorAll('.performer-card').forEach(card => {
            card.addEventListener('click', function() {
                const investorId = this.getAttribute('data-investor-id');
                InvestorModalManager.open(parseInt(investorId));
            });
        });
    }

    static attachInvestorCardEventListeners() {
        document.querySelectorAll('.investor-card').forEach(card => {
            card.addEventListener('click', function() {
                const investorId = this.getAttribute('data-investor-id');
                InvestorModalManager.open(parseInt(investorId));
            });
        });
    }

    static formatInvestorType(type) {
        const typeMap = {
            'individual': 'Individual Investor',
            'institutional': 'Institutional Investor',
            'fii': 'Foreign Institutional Investor'
        };
        return typeMap[type] || type;
    }

    static getRiskColor(riskProfile) {
        const colors = {
            'Very High': '#dc2626',
            'High': '#ea580c',
            'Medium': '#d97706',
            'Low': '#16a34a',
            'Very Low': '#059669'
        };
        return colors[riskProfile] || '#6b7280';
    }

    static showLoadingState() {
        const investorsGrid = document.getElementById('investorsGrid');
        const topPerformers = document.getElementById('topPerformers');
        
        if (topPerformers) {
            topPerformers.innerHTML = this.createTopPerformersLoadingHTML();
        }
        
        if (investorsGrid) {
            investorsGrid.innerHTML = this.createInvestorsGridLoadingHTML();
        }
    }

    static createTopPerformersLoadingHTML() {
        return Array(3).fill().map(() => `
            <div class="performer-card loading">
                <div class="shimmer" style="width: 40px; height: 40px; border-radius: 8px; margin-bottom: 12px;"></div>
                <div class="shimmer" style="height: 20px; margin-bottom: 8px; border-radius: 4px;"></div>
                <div class="shimmer" style="height: 16px; width: 80%; margin-bottom: 12px; border-radius: 4px;"></div>
                <div class="shimmer" style="height: 24px; width: 60%; border-radius: 4px;"></div>
            </div>
        `).join('');
    }

    static createInvestorsGridLoadingHTML() {
        return Array(6).fill().map(() => `
            <div class="investor-card loading">
                <div class="investor-header">
                    <div class="shimmer" style="width: 50px; height: 50px; border-radius: 12px;"></div>
                    <div style="flex: 1;">
                        <div class="shimmer" style="height: 20px; margin-bottom: 8px; border-radius: 4px;"></div>
                        <div class="shimmer" style="height: 16px; width: 70%; border-radius: 4px;"></div>
                    </div>
                </div>
                <div class="shimmer" style="height: 100px; margin: 16px 0; border-radius: 8px;"></div>
                <div class="shimmer" style="height: 80px; margin-bottom: 16px; border-radius: 8px;"></div>
                <div class="shimmer" style="height: 40px; border-radius: 6px;"></div>
            </div>
        `).join('');
    }
}

// Investor Modal Manager
class InvestorModalManager {
    static open(investorId) {
        const investor = AppState.investors.find(i => i.id === investorId);
        if (!investor) {
            NotificationManager.show('Investor not found', 'error');
            return;
        }

        const modal = document.getElementById('investorModal');
        const modalContent = document.getElementById('modalContent');

        if (!modal || !modalContent) {
            console.error('Modal elements not found');
            return;
        }

        modalContent.innerHTML = this.createModalContentHTML(investor);
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';

        AppState.currentInvestor = investor;
    }

    static createModalContentHTML(investor) {
        const riskColor = InvestorDisplayManager.getRiskColor(investor.riskProfile);
        
        return `
            <div class="modal-header">
                <div class="investor-avatar-large ${investor.type}">${investor.avatar}</div>
                <div class="investor-info-large">
                    <h2>${investor.name}</h2>
                    <div class="investor-details">
                        <span class="investor-type">${InvestorDisplayManager.formatInvestorType(investor.type)}</span>
                        <span class="risk-badge" style="background: ${riskColor}">${investor.riskProfile} Risk</span>
                        <span class="since-badge">Since ${investor.since}</span>
                    </div>
                </div>
                <button class="modal-close" onclick="InvestorModalManager.close()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-body">
                <div class="modal-stats">
                    <div class="modal-stat">
                        <div class="modal-stat-value">${investor.netWorth}</div>
                        <div class="modal-stat-label">Net Worth</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value ${investor.quarterlyChange >= 0 ? 'positive' : 'negative'}">
                            ${investor.quarterlyChange >= 0 ? '+' : ''}${investor.quarterlyChange}%
                        </div>
                        <div class="modal-stat-label">Quarterly Change</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value">${investor.portfolioSize}</div>
                        <div class="modal-stat-label">Portfolio Size</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value">${investor.investmentStyle}</div>
                        <div class="modal-stat-label">Investment Style</div>
                    </div>
                </div>
                
                <div class="modal-section">
                    <h3>Top Holdings</h3>
                    <div class="holdings-detailed">
                        ${investor.topHoldings.map((holding, index) => `
                            <div class="holding-detailed">
                                <div class="holding-rank">${index + 1}</div>
                                <div class="holding-info">
                                    <div class="holding-name">${holding.name}</div>
                                    <div class="holding-value">${holding.value}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="modal-section">
                    <h3>Investment Profile</h3>
                    <div class="profile-details">
                        <div class="profile-item">
                            <span class="profile-label">Preferred Sectors:</span>
                            <span class="profile-value">${investor.preferredSectors.join(', ')}</span>
                        </div>
                        <div class="profile-item">
                            <span class="profile-label">Risk Profile:</span>
                            <span class="profile-value" style="color: ${riskColor}">${investor.riskProfile}</span>
                        </div>
                        <div class="profile-item">
                            <span class="profile-label">Investment Style:</span>
                            <span class="profile-value">${investor.investmentStyle}</span>
                        </div>
                        <div class="profile-item">
                            <span class="profile-label">Active Since:</span>
                            <span class="profile-value">${investor.since}</span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="InvestorManager.viewPortfolio(${investor.id})">
                        <i class="fas fa-chart-line"></i> View Full Portfolio
                    </button>
                    <button class="btn btn-secondary" onclick="InvestorManager.viewTrendlyne('${investor.name}')">
                        <i class="fas fa-external-link-alt"></i> Open in Trendlyne
                    </button>
                </div>
            </div>
        `;
    }

    static close() {
        const modal = document.getElementById('investorModal');
        if (modal) {
            modal.style.display = 'none';
        }
        document.body.style.overflow = 'auto';
        document.documentElement.style.overflow = 'auto';
        AppState.currentInvestor = null;
    }

    static setupEventListeners() {
        const modal = document.getElementById('investorModal');
        if (modal) {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    InvestorModalManager.close();
                }
            });
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && AppState.currentInvestor) {
                InvestorModalManager.close();
            }
        });
    }
}

// Filter Manager
class FilterManager {
    constructor() {
        this.typeSelect = document.getElementById('typeSelect');
        this.sortSelect = document.getElementById('sortSelect');
        this.searchInput = document.getElementById('searchInput');
        this.debouncedFilter = this.debounce(this.applyFilters.bind(this), CONFIG.DEBOUNCE_DELAY);
        this.init();
    }

    init() {
        if (this.typeSelect) {
            this.typeSelect.addEventListener('change', () => this.handleFilterChange());
        }
        if (this.sortSelect) {
            this.sortSelect.addEventListener('change', () => this.handleFilterChange());
        }
        if (this.searchInput) {
            this.searchInput.addEventListener('input', this.debouncedFilter);
        }
    }

    handleFilterChange() {
        this.applyFilters();
    }

    applyFilters() {
        const type = this.typeSelect?.value || 'all';
        const sortBy = this.sortSelect?.value || 'net-worth';
        const searchQuery = this.searchInput?.value.toLowerCase().trim() || '';

        AppState.currentFilters = { type, sortBy, searchQuery };
        InvestorManager.filterInvestors();
    }

    clear() {
        if (this.typeSelect) this.typeSelect.value = 'all';
        if (this.sortSelect) this.sortSelect.value = 'net-worth';
        if (this.searchInput) this.searchInput.value = '';
        
        this.applyFilters();
        NotificationManager.show('Filters cleared', 'success');
    }

    debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }
}

// Investor Manager
class InvestorManager {
    static filterInvestors() {
        const { type, sortBy, searchQuery } = AppState.currentFilters;

        // Apply filters
        AppState.filteredInvestors = AppState.investors.filter(investor => {
            // Type filter
            if (type !== 'all' && investor.type !== type) {
                return false;
            }
            
            // Search filter
            if (searchQuery && 
                !investor.name.toLowerCase().includes(searchQuery) &&
                !investor.preferredSectors.some(sector => 
                    sector.toLowerCase().includes(searchQuery)) &&
                !investor.investmentStyle.toLowerCase().includes(searchQuery)) {
                return false;
            }
            
            return true;
        });

        // Sort investors
        AppState.filteredInvestors.sort((a, b) => {
            switch (sortBy) {
                case 'net-worth':
                    return this.parseNetWorth(b.netWorth) - this.parseNetWorth(a.netWorth);
                case 'quarterly-change':
                    return b.quarterlyChange - a.quarterlyChange;
                case 'portfolio-size':
                    return b.portfolioSize - a.portfolioSize;
                default:
                    return 0;
            }
        });

        InvestorDisplayManager.loadInvestorsGrid();
    }

    static parseNetWorth(netWorth) {
        // Convert "₹28,000 Cr" to numeric value
        const numeric = netWorth.replace(/[^0-9.]/g, '');
        return parseFloat(numeric) * (netWorth.includes('Lakh') ? 0.01 : 1);
    }

    static viewPortfolio(investorId) {
        const investor = AppState.investors.find(i => i.id === investorId);
        if (investor) {
            InvestorModalManager.close();
            // In a real implementation, this would navigate to a detailed portfolio page
            NotificationManager.show(`Opening detailed portfolio for ${investor.name}`, 'info');
            console.log(`Viewing portfolio for ${investor.name}`);
        }
    }

    static viewTrendlyne(investorName) {
        // In a real implementation, this would open the actual Trendlyne page
        const trendlyneUrl = `https://trendlyne.com/portfolio/${encodeURIComponent(investorName.toLowerCase().replace(/\s+/g, '-'))}`;
        NotificationManager.show(`Redirecting to Trendlyne for ${investorName}`, 'info');
        console.log(`Opening Trendlyne: ${trendlyneUrl}`);
        // window.open(trendlyneUrl, '_blank'); // Uncomment in production
    }

    static clearFilters() {
        const filterManager = InvestorApp.getInstance().filterManager;
        filterManager.clear();
    }

    static refreshInvestors() {
        InvestorDisplayManager.showLoadingState();
        
        setTimeout(() => {
            InvestorDisplayManager.loadTopPerformers();
            InvestorManager.filterInvestors();
            NotificationManager.show('Investors data refreshed', 'success');
        }, CONFIG.LOAD_DELAY);
    }
}

// Theme Manager
class ThemeManager {
    static toggle() {
        document.body.classList.toggle('light');
        const isLight = document.body.classList.contains('light');
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
        NotificationManager.show(`Theme changed to ${isLight ? 'light' : 'dark'} mode`, 'info');
    }

    static load() {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light');
        }
    }
}

// Main Investor Application
class InvestorApp {
    constructor() {
        this.mobileMenu = null;
        this.filterManager = null;
        this.instance = null;
        this.init();
    }

    static getInstance() {
        return this.instance;
    }

    async init() {
        console.log('🚀 Initializing Investor Application...');
        InvestorApp.instance = this;
        
        // Load theme
        ThemeManager.load();
        
        // Initialize components
        this.mobileMenu = new MobileMenu();
        this.filterManager = new FilterManager();
        InvestorModalManager.setupEventListeners();
        
        // Load initial content with loading state
        InvestorDisplayManager.showLoadingState();
        
        // Simulate API delay
        setTimeout(() => {
            InvestorDisplayManager.loadTopPerformers();
            InvestorManager.filterInvestors();
            AppState.isInitialized = true;
            console.log('✅ Investor Application initialized successfully');
        }, CONFIG.LOAD_DELAY);
    }

    destroy() {
        InvestorModalManager.close();
        console.log('📋 Investor Application destroyed');
    }
}

// Initialize the application
document.addEventListener('DOMContentLoaded', () => {
    window.investorApp = new InvestorApp();
});

// Error boundary
window.addEventListener('error', (event) => {
    console.error('Global error:', event.error);
    NotificationManager.show('An unexpected error occurred', 'error');
});
</script>
</body>
</html>